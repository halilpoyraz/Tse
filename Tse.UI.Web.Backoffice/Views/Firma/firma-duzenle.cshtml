@using Tse.UI.Web.Backoffice.Helpers
@model Tse.UI.Web.Backoffice.ViewModels.FirmaDuzenleViewModel
@section renderSection{
    <script type="text/javascript" src="~/Content/assets/pages/scripts/firma.min.js"></script>
    <script type="text/javascript">jQuery(document).ready(function () { FirmaDuzenle.init(); });</script>
}
<div class="portlet light bordered">
    <div class="portlet-title tabbable-line">
        <div class="caption">
            <i class="fa fa-briefcase" aria-hidden="true"></i>
            <span id="standart-title" class="caption-subject font-dark bold text-capitalize">@Model.Firma.TicaretUnvani</span>
        </div>
        <ul class="nav nav-tabs">
            <li class="@Html.Raw((TempData["activeTab"] == null) ? "active" : "")">
                <a href="#firma-bilgisi" data-toggle="tab" aria-expanded="true">Firma Bilgisi</a>
            </li>
            <li class="@Html.Raw((TempData["activeTab"] == "firma-adres") ? "active" : "")">
                <a href="#firma-adres" data-toggle="tab" aria-expanded="true">Adres</a>
            </li>
            <li class="@Html.Raw((TempData["activeTab"] == "firma-telefon") ? "active" : "")">
                <a href="#firma-telefon" data-toggle="tab" aria-expanded="true">Telefon</a>
            </li>
            <li class="@Html.Raw((TempData["activeTab"] == "firma-eposta") ? "active" : "")">
                <a href="#firma-eposta" data-toggle="tab" aria-expanded="true">E-Posta</a>
            </li>
            <li class="@Html.Raw((TempData["activeTab"] == "firma-faturabilgi") ? "active" : "")">
                <a href="#firma-faturabilgi" data-toggle="tab" aria-expanded="true">FaturaBilgi</a>
            </li>
        </ul>
    </div>
    <div class="portlet-body">
        <div class="tab-content">
            <div id="firma-bilgisi" class="tab-pane @Html.Raw((TempData["activeTab"] == null) ? "active" : "")">
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet light portlet-fit portlet-form">
                            <div class="portlet-body">
                                @using (Html.BeginForm("firma-duzenle", "firma", FormMethod.Post, new { @name = "form1", @id = "form1", @class = "form-horizontal" }))
                                {
                                @Html.AntiForgeryToken()
                                @Html.HiddenFor(m => m.Firma.FirmaID)
                                <div class="form-body">
                                    <div class="alert alert-danger display-hide">
                                        <button class="close" data-close="alert"></button>
                                        Formdaki alanları doğru ve eksiksiz bir biçimde doldurunuz.
                                    </div>
                                    <div class="alert alert-success @TempData["DisplayStatus"]">
                                        <button class="close" data-close="alert"></button> Kayıt Güncellendi.
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-3">
                                            <span>@Html.DisplayNameFor(m => m.Firma.TicaretUnvani)</span>
                                            <span class="required"> * </span>
                                        </label>
                                        <div class="col-md-9">
                                            @Html.TextBoxFor(m => m.Firma.TicaretUnvani, htmlAttributes: new { @class = "form-control", @data_required = "1" })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-3">
                                            <span>@Html.DisplayNameFor(m => m.Firma.WebAdresi)</span>
                                            <span class="required"> * </span>
                                        </label>
                                        <div class="col-md-9">
                                            @Html.TextBoxFor(m => m.Firma.WebAdresi, htmlAttributes: new { @class = "form-control", @data_required = "1" })
                                            <span class="help-block"> Örnek: http://www.ornek.com veya http://ornek.com </span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-3">
                                            <span>@Html.DisplayNameFor(m => m.Durum.DurumAdi)</span>
                                            <span class="required"> * </span>
                                        </label>
                                        <div class="col-md-9">
                                            @Html.DropDownListFor(m => m.Firma.DurumID, new SelectList(Model.Durumlar, "DurumID", "DurumAdi", null).AddFirstItem("Seçiniz", ""), htmlAttributes: new { @class = "form-control" })
                                        </div>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <div class="row">
                                        <div class="col-md-12 text-right">
                                            <button type="submit" class="btn green">Güncelle</button>
                                            <button type="button" id="btn-vazgec" class="btn grey-salsa btn-outline">Vazgeç</button>
                                        </div>
                                    </div>
                                </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="firma-adres" class="tab-pane @Html.Raw((TempData["activeTab"] == "firma-adres") ? "active" : "")">
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet-body">
                            <div class="table-toolbar">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="btn-group">
                                            <button class="btn green" id="btn-yeni-adres">
                                                Yeni Adres
                                                <i class="fa fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        @if (Model.Adresler.Count > 0)
                                        {
                                        <div class="btn-group pull-right">
                                            <button class="btn green btn-outline dropdown-toggle" data-toggle="dropdown">
                                                Filtrele
                                                <i class="fa fa-filter"></i>
                                            </button>
                                            <ul class="dropdown-menu pull-right">
                                                @if (Model.FilterAdres.CountByDurumId(0) > 0)
                                                {
                                                <li>
                                                    <a href="javascript:;" id="adresBtnTumKayitlar"><i class="fa fa-filter" aria-hidden="true"></i> Tüm Kayıtlar(@Model.FilterAdres.CountByDurumId(0)) </a>
                                                </li>
                                                }
                                                @if (Model.FilterAdres.CountByDurumId(1) > 0)
                                                {
                                                <li>
                                                    <a href="javascript:;" id="adresBtnAktif"><i class="fa fa-filter" aria-hidden="true"></i> Aktif (@Model.FilterAdres.CountByDurumId(1)) </a>
                                                </li>
                                                }
                                                @if (Model.FilterAdres.CountByDurumId(2) > 0)
                                                {
                                                <li>
                                                    <a href="javascript:;" id="adresBtnPasif"><i class="fa fa-filter" aria-hidden="true"></i> Pasif (@Model.FilterAdres.CountByDurumId(2)) </a>
                                                </li>
                                                }
                                                @if (Model.FilterAdres.CountByDurumId(3) > 0)
                                                {
                                                <li>
                                                    <a href="javascript:;" id="adresBtnTaslak"><i class="fa fa-filter" aria-hidden="true"></i> Taslak (@Model.FilterAdres.CountByDurumId(3)) </a>
                                                </li>
                                                }
                                                @if (Model.FilterAdres.CountByDurumId(4) > 0)
                                                {
                                                <li>
                                                    <a href="javascript:;" id="adresBtnSilinmis"><i class="fa fa-filter" aria-hidden="true"></i> Silinmiş (@Model.FilterAdres.CountByDurumId(4)) </a>
                                                </li>
                                                }
                                            </ul>
                                        </div>
                                        }
                                    </div>
                                </div>
                            </div>
                            @if(Model.Adresler.Count > 0)
                            {
                            <table class="table table-striped table-hover" id="tableFirmaAdres">
                                <thead>
                                    <tr>
                                        <th data-field="adresID" class="display-hide"> Id </th>
                                        <th data-field="adresTipi"> Adres Tipi </th>
                                        <th data-field="adresSatiri"> Adres </th>
                                        <th data-field="durum"> Durumu </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var adres in Model.Adresler)
                                    {
                                    <tr>
                                        <td class="display-hide"> @adres.AdresID</td>
                                        <td> @adres.AdresTipi.DegerAdiTr</td>
                                        <td>
                                            @adres.AdresSatiri @adres.Ilce.IlceAdi @adres.Sehir.SehirAdi @adres.Ulke.UlkeAdi @if (adres.VarsayilanAdres == true)
                                            { @Html.Raw("(Varsayılan)") }
                                        </td>
                                        <td> @adres.Durum.DurumAdi </td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                            <ul id="contextMenuAdres" class="dropdown-menu">
                                <li data-item="firma-adres-duzenle">
                                    <a><i class="fa fa-pencil-square-o" aria-hidden="true"></i>Düzenle</a>
                                </li>
                                <li data-item="firma-adres-sil">
                                    <a><i class="icon-trash"></i>Sil</a>
                                </li>
                                <li class="divider"> </li>
                                <li data-item="firma-adres-ekle">
                                    <a><i class="fa fa-plus-square-o" aria-hidden="true"></i>Yeni Ekle</a>
                                </li>
                            </ul>
                            <script>
                                $(function () {
                                    $('#tableFirmaAdres').bootstrapTable({
                                        rowStyle: "rowStyle",
                                        contextMenu: '#contextMenuAdres',
                                        onContextMenuItem: function (row, $el) {
                                            var firmaID = $("#Firma_FirmaID").val();
                                            if ($el.data("item") == "firma-adres-ekle")
                                                window.location.href = '/firma/firma-adres-ekle?firmaID='+firmaID;
                                            else if ($el.data("item") == "firma-adres-duzenle")
                                                get('/firma/firma-adres-duzenle?firmaID=' + firmaID + '&adresID=' + row.adresID);
                                            else if ($el.data("item") == "firma-adres-sil") {
                                                if (confirm(row.adresSatiri.trim() + ' kaydını silmek istediğine emin misin?'))
                                                    post('/firma/firma-adres-sil', { firmaID: firmaID, adresID: row.adresID });
                                                else
                                                    return false;
                                            }
                                        }
                                    });
                                });
                            </script>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div id="firma-telefon" class="tab-pane @Html.Raw((TempData["activeTab"] == "firma-telefon") ? "active" : "")">
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet-body">
                            <div class="table-toolbar">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="btn-group">
                                            <button class="btn green" id="btn-yeni-telefon">
                                                Yeni Telefon
                                                <i class="fa fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        @if (Model.Telefonlar.Count > 0)
                                        {
                                            <div class="btn-group pull-right">
                                                <button class="btn green btn-outline dropdown-toggle" data-toggle="dropdown">
                                                    Filtrele
                                                    <i class="fa fa-filter"></i>
                                                </button>
                                                <ul class="dropdown-menu pull-right">
                                                    @if (Model.FilterTelefon.CountByDurumId(0) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="telefonBtnTumKayitlar"><i class="fa fa-filter" aria-hidden="true"></i> Tüm Kayıtlar(@Model.FilterTelefon.CountByDurumId(0)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterTelefon.CountByDurumId(1) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="telefonBtnAktif"><i class="fa fa-filter" aria-hidden="true"></i> Aktif (@Model.FilterTelefon.CountByDurumId(1)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterTelefon.CountByDurumId(2) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="telefonBtnPasif"><i class="fa fa-filter" aria-hidden="true"></i> Pasif (@Model.FilterTelefon.CountByDurumId(2)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterTelefon.CountByDurumId(3) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="telefonBtnTaslak"><i class="fa fa-filter" aria-hidden="true"></i> Taslak (@Model.FilterTelefon.CountByDurumId(3)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterTelefon.CountByDurumId(4) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="telefonBtnSilinmis"><i class="fa fa-filter" aria-hidden="true"></i> Silinmiş (@Model.FilterTelefon.CountByDurumId(4)) </a>
                                                        </li>
                                                    }
                                                </ul>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                            @if (Model.Telefonlar.Count > 0)
                            {
                                <table id="tableFirmaTelefon" class="table table-striped table-hover" >
                                    <thead>
                                        <tr>
                                            <th data-field="telefonID" class="display-hide"> Id </th>
                                            <th data-field="telefonTipi"> Telefon Tipi </th>
                                            <th data-field="telefonNo"> Telefon No </th>
                                            <th data-field="durum"> Durumu </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var telefon in Model.Telefonlar)
                                        {
                                            <tr>
                                                <td class="display-hide"> @telefon.TelefonID</td>
                                                <td> @telefon.TelefonTipi.DegerAdiTr</td>
                                                <td>
                                                    @telefon.TelefonNo @if (telefon.VarsayilanTelefon == true)
                                                    { @Html.Raw("(Varsayılan)") }
                                                </td>
                                                <td> @telefon.Durum.DurumAdi </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                                <ul id="contextMenuTelefon" class="dropdown-menu">
                                    <li data-item="firma-telefon-duzenle">
                                        <a><i class="fa fa-pencil-square-o" aria-hidden="true"></i>Düzenle</a>
                                    </li>
                                    <li data-item="firma-telefon-sil">
                                        <a><i class="icon-trash"></i>Sil</a>
                                    </li>
                                    <li class="divider"> </li>
                                    <li data-item="firma-telefon-ekle">
                                        <a><i class="fa fa-plus-square-o" aria-hidden="true"></i>Yeni Ekle</a>
                                    </li>
                                </ul>
                                <script>
                                    $(function () {
                                        $('#tableFirmaTelefon').bootstrapTable({
                                            rowStyle: "rowStyle",
                                            contextMenu: '#contextMenuTelefon',
                                            onContextMenuItem: function (row, $el) {
                                                var firmaID = $("#Firma_FirmaID").val();
                                                if ($el.data("item") == "firma-telefon-ekle")
                                                    window.location.href = '/firma/firma-telefon-ekle?firmaID=' + firmaID;
                                                else if ($el.data("item") == "firma-telefon-duzenle")
                                                    get('/firma/firma-telefon-duzenle?firmaID=' + firmaID + '&telefonID=' + row.telefonID);
                                                else if ($el.data("item") == "firma-telefon-sil") {
                                                    if (confirm(row.telefonNo.trim() + ' nolu kaydı silmek istediğine emin misin?'))
                                                        post('/firma/firma-telefon-sil', { firmaID: firmaID, telefonID: row.telefonID });
                                                    else
                                                        return false;
                                                }
                                            }
                                        });
                                    });
                                </script>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div id="firma-eposta" class="tab-pane @Html.Raw((TempData["activeTab"] == "firma-eposta") ? "active" : "")">
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet-body">
                            <div class="table-toolbar">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="btn-group">
                                            <button class="btn green" id="btn-yeni-eposta">
                                                Yeni E-Posta
                                                <i class="fa fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        @if (Model.Epostalar.Count > 0)
                                        {
                                            <div class="btn-group pull-right">
                                                <button class="btn green btn-outline dropdown-toggle" data-toggle="dropdown">
                                                    Filtrele
                                                    <i class="fa fa-filter"></i>
                                                </button>
                                                <ul class="dropdown-menu pull-right">
                                                    @if (Model.FilterEposta.CountByDurumId(0) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="epostaBtnTumKayitlar"><i class="fa fa-filter" aria-hidden="true"></i> Tüm Kayıtlar(@Model.FilterEposta.CountByDurumId(0)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterEposta.CountByDurumId(1) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="epostaBtnAktif"><i class="fa fa-filter" aria-hidden="true"></i> Aktif (@Model.FilterEposta.CountByDurumId(1)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterEposta.CountByDurumId(2) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="epostaBtnPasif"><i class="fa fa-filter" aria-hidden="true"></i> Pasif (@Model.FilterEposta.CountByDurumId(2)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterEposta.CountByDurumId(3) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="epostaBtnTaslak"><i class="fa fa-filter" aria-hidden="true"></i> Taslak (@Model.FilterEposta.CountByDurumId(3)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterEposta.CountByDurumId(4) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="epostaBtnSilinmis"><i class="fa fa-filter" aria-hidden="true"></i> Silinmiş (@Model.FilterEposta.CountByDurumId(4)) </a>
                                                        </li>
                                                    }
                                                </ul>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                            @if (Model.Epostalar.Count > 0)
                            {
                                <table id="tableFirmaEposta" class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th data-field="epostaID" class="display-hide"> Id </th>
                                            <th data-field="epostaAdresi"> E-Posta Adresi </th>
                                            <th data-field="durum"> Durumu </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var eposta in Model.Epostalar)
                                        {
                                            <tr>
                                                <td class="display-hide"> @eposta.EpostaID</td>
                                                <td>
                                                    @eposta.EpostaAdresi @if (eposta.VarsayilanEposta == true)
                                                    { @Html.Raw("(Varsayılan)") }
                                                </td>
                                                <td> @eposta.Durum.DurumAdi </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                                <ul id="contextMenuEposta" class="dropdown-menu">
                                    <li data-item="firma-eposta-duzenle">
                                        <a><i class="fa fa-pencil-square-o" aria-hidden="true"></i>Düzenle</a>
                                    </li>
                                    <li data-item="firma-eposta-sil">
                                        <a><i class="icon-trash"></i>Sil</a>
                                    </li>
                                    <li class="divider"> </li>
                                    <li data-item="firma-eposta-ekle">
                                        <a><i class="fa fa-plus-square-o" aria-hidden="true"></i>Yeni Ekle</a>
                                    </li>
                                </ul>
                                <script>
                                    $(function () {
                                        $('#tableFirmaEposta').bootstrapTable({
                                            rowStyle: "rowStyle",
                                            contextMenu: '#contextMenuEposta',
                                            onContextMenuItem: function (row, $el) {
                                                var firmaID = $("#Firma_FirmaID").val();
                                                if ($el.data("item") == "firma-eposta-ekle")
                                                    window.location.href = '/firma/firma-eposta-ekle?firmaID=' + firmaID;
                                                else if ($el.data("item") == "firma-eposta-duzenle")
                                                    get('/firma/firma-eposta-duzenle?firmaID=' + firmaID + '&epostaID=' + row.epostaID);
                                                else if ($el.data("item") == "firma-eposta-sil") {
                                                    if (confirm(row.epostaAdresi.trim() + ' kaydını silmek istediğine emin misin?'))
                                                        post('/firma/firma-eposta-sil', { firmaID: firmaID, epostaID: row.epostaID });
                                                    else
                                                        return false;
                                                }
                                            }
                                        });
                                    });
                                </script>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div id="firma-faturabilgi" class="tab-pane @Html.Raw((TempData["activeTab"] == "firma-faturabilgi") ? "active" : "")">
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet-body">
                            <div class="table-toolbar">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="btn-group">
                                            <button class="btn green" id="btn-yeni-faturabilgi">
                                                Yeni Fatura Bilgisi
                                                <i class="fa fa-plus"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        @if (Model.FaturaBilgileri.Count > 0)
                                        {
                                            <div class="btn-group pull-right">
                                                <button class="btn green btn-outline dropdown-toggle" data-toggle="dropdown">
                                                    Filtrele
                                                    <i class="fa fa-filter"></i>
                                                </button>
                                                <ul class="dropdown-menu pull-right">
                                                    @if (Model.FilterFaturaBilgi.CountByDurumId(0) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="faturabilgiBtnTumKayitlar"><i class="fa fa-filter" aria-hidden="true"></i> Tüm Kayıtlar(@Model.FilterFaturaBilgi.CountByDurumId(0)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterFaturaBilgi.CountByDurumId(1) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="faturabilgiBtnAktif"><i class="fa fa-filter" aria-hidden="true"></i> Aktif (@Model.FilterFaturaBilgi.CountByDurumId(1)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterFaturaBilgi.CountByDurumId(2) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="faturabilgiBtnPasif"><i class="fa fa-filter" aria-hidden="true"></i> Pasif (@Model.FilterFaturaBilgi.CountByDurumId(2)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterFaturaBilgi.CountByDurumId(3) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="faturabilgiBtnTaslak"><i class="fa fa-filter" aria-hidden="true"></i> Taslak (@Model.FilterFaturaBilgi.CountByDurumId(3)) </a>
                                                        </li>
                                                    }
                                                    @if (Model.FilterFaturaBilgi.CountByDurumId(4) > 0)
                                                    {
                                                        <li>
                                                            <a href="javascript:;" id="faturabilgiBtnSilinmis"><i class="fa fa-filter" aria-hidden="true"></i> Silinmiş (@Model.FilterFaturaBilgi.CountByDurumId(4)) </a>
                                                        </li>
                                                    }
                                                </ul>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                            @if (Model.FaturaBilgileri.Count > 0)
                            {
                                <table id="tableFirmaFaturaBilgi" class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th data-field="faturabilgiID" class="display-hide"> Id </th>
                                            <th data-field="vergiDairesi"> Vergi Dairesi </th>
                                            <th data-field="vergiNo"> Vergi No </th>
                                            <th data-field="adresID"> Adres </th>
                                            <th data-field="durum"> Durumu </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var faturabilgi in Model.FaturaBilgileri)
                                        {
                                            <tr>
                                                <td class="display-hide"> @faturabilgi.FaturaBilgiID</td>
                                                <td> @faturabilgi.VergiDairesi</td>
                                                <td> @faturabilgi.VergiNo</td>
                                                <td> @faturabilgi.Adres.AdresSatiri</td>
                                                <td> @faturabilgi.Durum.DurumAdi </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                                <ul id="contextMenuFaturaBilgi" class="dropdown-menu">
                                    <li data-item="firma-faturabilgi-duzenle">
                                        <a><i class="fa fa-pencil-square-o" aria-hidden="true"></i>Düzenle</a>
                                    </li>
                                    <li data-item="firma-faturabilgi-sil">
                                        <a><i class="icon-trash"></i>Sil</a>
                                    </li>
                                    <li class="divider"> </li>
                                    <li data-item="firma-faturabilgi-ekle">
                                        <a><i class="fa fa-plus-square-o" aria-hidden="true"></i>Yeni Ekle</a>
                                    </li>
                                </ul>
                                <script>
                                    $(function () {
                                        $('#tableFirmaFaturaBilgi').bootstrapTable({
                                            rowStyle: "rowStyle",
                                            contextMenu: '#contextMenuFaturaBilgi',
                                            onContextMenuItem: function (row, $el) {
                                                var firmaID = $("#Firma_FirmaID").val();
                                                if ($el.data("item") == "firma-faturabilgi-ekle")
                                                    window.location.href = '/firma/firma-faturabilgi-ekle?firmaID=' + firmaID;

                                                else if ($el.data("item") == "firma-faturabilgi-duzenle")
                                                    get('/firma/firma-faturabilgi-duzenle?firmaID=' + firmaID + '&faturabilgiID=' + row.faturabilgiID);

                                                else if ($el.data("item") == "firma-faturabilgi-sil") {
                                                    if (confirm(row.vergiNo.trim() + ' kaydını silmek istediğine emin misin?'))
                                                        post('/firma/firma-faturabilgi-sil', { firmaID: firmaID, faturabilgiID: row.faturabilgiID });
                                                    else
                                                        return false;
                                                }
                                            }
                                        });
                                    });
                                </script>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>